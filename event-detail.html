<!-- 이벤트 상세 (제출자 화면) -->
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>3분기 효율성 향상 챌린지 - OPCO : TWF</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=JetBrains+Mono:wght@400;500&amp;family=Noto+Sans+KR:wght@400;500;700&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#3B82F6", // 제출자 화면용 파란색
                        "primary-hover": "#2563EB",
                        "primary-light": "#EFF6FF",
                        "background-light": "#F8FAFC",
                        "background-dark": "#0F172A",
                        "surface": "#FFFFFF",
                        "surface-dark": "#1E293B",
                        "text-main": "#0F172A",
                        "text-muted": "#64748B",
                        "border": "#E2E8F0",
                        "success": "#10B981",
                        "warning": "#F59E0B",
                    },
                    fontFamily: {
                        "sans": ["Noto Sans KR", "Inter", "sans-serif"],
                        "display": ["Inter", "Noto Sans KR", "sans-serif"],
                        "mono": ["JetBrains Mono", "monospace"],
                    },
                },
            },
        }
    </script>
    <style type="text/tailwindcss">
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
        }
        .prose h3 {
            font-size: 1.125rem;
            font-weight: 700;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: #0F172A;
        }
        .prose p {
            margin-bottom: 1rem;
            line-height: 1.75;
            color: #334155;
        }
        .prose ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .prose li {
            margin-bottom: 0.5rem;
            color: #334155;
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-text-main dark:text-gray-100 min-h-screen flex flex-col">
    <header class="bg-surface dark:bg-surface-dark border-b border-border dark:border-gray-700 sticky top-0 z-30">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-4">
                    <a class="flex items-center gap-2" href="#">
                        <div class="w-8 h-8 bg-black rounded flex items-center justify-center text-white font-bold">
                            TWF
                        </div>
                        <span class="font-bold text-lg tracking-tight text-text-main dark:text-white">OPCO</span>
                    </a>
                </div>
                <div class="flex items-center gap-4">
                    <button class="text-sm font-medium text-text-muted hover:text-text-main">이벤트 목록</button>
                    <button class="text-sm font-medium text-text-muted hover:text-text-main">나의 제안</button>
                    <div class="h-6 w-px bg-border"></div>
                    <div class="flex items-center gap-2">
                        <div class="h-8 w-8 rounded-full bg-slate-200 bg-cover bg-center"
                            style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDzOoiX2DxUxriGu6VyN5pwZ_zRFhwBi_HYhA3i9oK2qOdGE8gKVMOTLYqZYrCDqEVtcsL4mU5BAnbpSk9ybGwLQC2cTe0bl2OfrFNh_T7eHtSco7eAC9GyED7ghtQs_kJ1nSpI2WlM3fUbFAu2nlJH0tgdGQPNfwHVwTpiH8jPtPn3DTHVblBNc9s-nhvuQdODPjQd8y6TrftmfkGxqj6lX0lvoH6IOb1easDSrQkpNwY07g8czWwW-UYSJ43rLhXmNyyVfxy_7Xo");'>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main class="flex-1 max-w-5xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="mb-4">
            <a class="inline-flex items-center gap-1 text-sm text-text-muted hover:text-primary transition-colors"
                href="#">
                <span class="material-symbols-outlined text-[16px]">arrow_back</span>
                이벤트 목록으로 돌아가기
            </a>
        </div>
        <div
            class="bg-white dark:bg-surface-dark rounded-xl border border-border dark:border-gray-700 shadow-sm overflow-hidden">
            <div class="relative h-48 bg-gradient-to-r from-blue-600 to-indigo-700">
                <div class="absolute inset-0 bg-black/20"></div>
                <div class="absolute bottom-0 left-0 p-8 w-full bg-gradient-to-t from-black/80 to-transparent">
                    <div class="flex items-center gap-3 text-white/90 text-sm font-medium mb-2">
                        <span
                            class="bg-white/20 backdrop-blur-sm px-2.5 py-0.5 rounded border border-white/30">기술연구소</span>
                        <span class="flex items-center gap-1" id="event-period">
                            <span class="material-symbols-outlined text-[16px]">calendar_today</span>
                            2023-10-01 ~ 2023-10-31
                        </span>
                    </div>
                    <h1 class="text-3xl font-bold text-white shadow-sm" id="event-title">3분기 효율성 향상 챌린지</h1>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3">
                <div class="lg:col-span-2 p-8 border-r border-border dark:border-gray-700">
                    <div class="prose max-w-none text-text-main dark:text-gray-300">
                        <h3>이벤트 개요</h3>
                        <p id="event-desc">
                            2023년 3분기 전사적 목표인 생산 효율성 15% 증대를 달성하기 위해, 각 부서의 현장 경험을 바탕으로 한 창의적이고 실질적인 개선 아이디어를 모집합니다. 특히
                            반복적인 공정에서의 시간 단축, 불필요한 자재 낭비 절감, 그리고 설비 가동률 향상 방안에 중점을 둡니다.
                        </p>
                        <h3>참가 주제 (예시)</h3>
                        <ul>
                            <li>조립 라인 병목 현상 해소 방안</li>
                            <li>자재 이동 동선 최적화</li>
                            <li>설비 예방 정비 프로세스 개선</li>
                            <li>에너지 소비 절감 아이디어</li>
                        </ul>
                        <h3>심사 기준</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 not-prose my-6">
                            <div
                                class="bg-slate-50 dark:bg-gray-800 p-4 rounded-lg border border-border dark:border-gray-700">
                                <div class="text-primary font-bold mb-1">혁신성 (40%)</div>
                                <p class="text-xs text-text-muted leading-relaxed">기존 방식과 차별화된 새로운 접근 방식인가?</p>
                            </div>
                            <div
                                class="bg-slate-50 dark:bg-gray-800 p-4 rounded-lg border border-border dark:border-gray-700">
                                <div class="text-primary font-bold mb-1">실현 가능성 (30%)</div>
                                <p class="text-xs text-text-muted leading-relaxed">현실적으로 즉시 적용 가능한가?</p>
                            </div>
                            <div
                                class="bg-slate-50 dark:bg-gray-800 p-4 rounded-lg border border-border dark:border-gray-700">
                                <div class="text-primary font-bold mb-1">효과성 (30%)</div>
                                <p class="text-xs text-text-muted leading-relaxed">예상되는 정량적 효과(비용/시간)가 명확한가?</p>
                            </div>
                        </div>
                        <h3>유의 사항</h3>
                        <p>
                            모든 제안서는 제공된 양식을 준수해야 하며, 데이터에 기반한 근거 자료(로그, 사진 등)를 첨부할 것을 권장합니다. 블라인드 심사로 진행되므로, 파일 내에 개인
                            정보를 포함하지 않도록 주의해 주십시오.
                        </p>
                    </div>
                </div>
                <div class="p-8 bg-slate-50 dark:bg-gray-800/50">
                    <div class="sticky top-24">
                        <h3 class="text-lg font-bold text-text-main dark:text-white mb-4">참가 정보</h3>
                        <div class="space-y-4 mb-6">
                            <div class="flex items-start gap-3">
                                <div
                                    class="p-2 bg-white dark:bg-gray-700 rounded border border-border dark:border-gray-600 text-primary">
                                    <span class="material-symbols-outlined">schedule</span>
                                </div>
                                <div>
                                    <p class="text-sm font-semibold text-text-main dark:text-white">접수 마감</p>
                                    <p class="text-sm text-text-muted">2023년 10월 31일 18:00</p>
                                    <p class="text-xs text-red-500 font-medium mt-0.5">D-2일 남음</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div
                                    class="p-2 bg-white dark:bg-gray-700 rounded border border-border dark:border-gray-600 text-text-muted">
                                    <span class="material-symbols-outlined">group</span>
                                </div>
                                <div>
                                    <p class="text-sm font-semibold text-text-main dark:text-white">참가 대상</p>
                                    <p class="text-sm text-text-muted">전 임직원 (개인 또는 3인 이하 팀)</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-3">
                                <div
                                    class="p-2 bg-white dark:bg-gray-700 rounded border border-border dark:border-gray-600 text-text-muted">
                                    <span class="material-symbols-outlined">trophy</span>
                                </div>
                                <div>
                                    <p class="text-sm font-semibold text-text-main dark:text-white">시상 혜택</p>
                                    <p class="text-sm text-text-muted">최우수상: 200만원 + CEO 표창</p>
                                </div>
                            </div>
                        </div>
                        <hr class="border-border dark:border-gray-600 mb-6" />
                        <div class="mb-6">
                            <h4 class="text-sm font-semibold text-text-main dark:text-white mb-2">관련 자료</h4>
                            <a class="flex items-center gap-3 p-3 bg-white dark:bg-gray-700 rounded border border-border dark:border-gray-600 hover:border-primary/50 transition-colors group mb-2"
                                href="#">
                                <span class="material-symbols-outlined text-red-500">picture_as_pdf</span>
                                <div class="flex-1 overflow-hidden">
                                    <p
                                        class="text-sm font-medium text-text-main dark:text-white truncate group-hover:text-primary">
                                        제출_가이드라인_v1.0.pdf</p>
                                    <p class="text-xs text-text-muted">1.2 MB</p>
                                </div>
                                <span class="material-symbols-outlined text-text-muted text-[18px]">download</span>
                            </a>
                            <a class="flex items-center gap-3 p-3 bg-white dark:bg-gray-700 rounded border border-border dark:border-gray-600 hover:border-primary/50 transition-colors group"
                                href="#">
                                <span class="material-symbols-outlined text-green-500">description</span>
                                <div class="flex-1 overflow-hidden">
                                    <p
                                        class="text-sm font-medium text-text-main dark:text-white truncate group-hover:text-primary">
                                        제안서_표준_양식.docx</p>
                                    <p class="text-xs text-text-muted">540 KB</p>
                                </div>
                                <span class="material-symbols-outlined text-text-muted text-[18px]">download</span>
                            </a>
                        </div>
                        <button
                            class="w-full py-3.5 px-4 bg-primary hover:bg-primary-hover text-white rounded-lg font-bold text-sm shadow-sm transition-all flex items-center justify-center gap-2">
                            <span class="material-symbols-outlined">edit_document</span>
                            제안서 작성하기
                        </button>
                        <p class="text-xs text-center text-text-muted mt-3">
                            작성 중인 제안서는 자동 저장됩니다.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <footer class="border-t border-border dark:border-gray-700 bg-white dark:bg-surface-dark mt-12 py-8">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-sm text-text-muted">© 2024 Oriental Precision &amp; Engineering. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const eventId = getQueryParam('id');
            if (!eventId) {
                alert('잘못된 접근입니다. 이벤트 목록으로 이동합니다.');
                window.location.href = 'dashboard.html';
                return;
            }

            const data = await fetchEventDetails(eventId);

            if (data) {
                document.getElementById('event-title').textContent = data.title;
                // Format dates
                const start = formatDate(data.start_date);
                const end = formatDate(data.end_date);
                document.getElementById('event-period').innerHTML = `<span class="material-symbols-outlined text-[16px]">calendar_today</span> ${start} ~ ${end}`;

                document.getElementById('event-desc').textContent = data.description || '상세 설명이 없습니다.';
                document.title = `${data.title} - OPCO : TWF`;
            } else {
                alert('이벤트 정보를 불러올 수 없습니다.');
                window.location.href = 'dashboard.html';
            }
        });
    </script>
</body>

</html>