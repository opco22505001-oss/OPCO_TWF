# E2E 회귀 점검 체크리스트

## 1. 로그인/세션
- [ ] 일반 사용자 사번+이름 로그인 성공
- [ ] 관리자 사번+이름+인증코드 로그인 성공
- [ ] 관리자 인증코드 오류 시 로그인 차단
- [ ] 게스트/테스트 계정 잔존 없이 실제 세션 우선 반영

## 2. 이벤트 생성/수정/마감
- [ ] 관리자 이벤트 생성 성공
- [ ] 이벤트 수정(제목/설명/심사기준/첨부설정) 반영 확인
- [ ] 이벤트 즉시 마감 성공
- [ ] 마감 후 제출 수정/신규 제출 차단 확인

## 3. 제출물 업로드/수정
- [ ] 한국어 파일명 업로드 성공(이벤트 생성 첨부/제출 첨부)
- [ ] 허용되지 않은 확장자 업로드 차단
- [ ] 50MB 초과 파일 차단
- [ ] 제출 수정 진입 시 기존 첨부파일 노출
- [ ] 기존 첨부 일부 삭제 + 신규 첨부 추가 후 저장 정상

## 4. 심사
- [ ] 심사자는 배정된 이벤트만 심사 가능
- [ ] 동일 심사자-동일 제출물 중복 평가 차단
- [ ] 심사 수정 1회 제한(마감 전)
- [ ] 마감 후 심사 수정 차단

## 5. 결과 확정/순위
- [ ] 관리자: 마감 후 임시 순위 확인 가능
- [ ] 관리자: 결과 확정 버튼 동작 성공
- [ ] 결과 확정 시 `events.result_finalized=true` 반영
- [ ] 결과 확정 시 `events.finalized_ranking_snapshot` 저장 확인
- [ ] 일반 사용자: 결과 미확정 상태에서는 순위 비공개
- [ ] 일반 사용자: 결과 확정 후 순위/확정 배지 노출

## 6. 관리자 권한 변경
- [ ] 관리자 탭에서 일반↔관리자 변경 성공
- [ ] 변경 후 `corporate_employees`, `public.users`, `auth.user_metadata` 동기화 확인
- [ ] 실패 시 오류코드(`code`), 상세(`detail`), 요청ID(`request_id`) 표시 확인

## 7. 관리자 지표/감사로그
- [ ] 관리자 대시보드 지표(진행 이벤트 수/평균 제출률/평균 심사율) 정상
- [ ] 지연알림 필터(임박일/심사율/상태) 동작
- [ ] 감사로그 조회 정상
- [ ] 이벤트 마감/삭제/결과확정/권한변경 로그 누락 여부 점검
